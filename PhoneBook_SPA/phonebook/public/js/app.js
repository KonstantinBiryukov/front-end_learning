(function(e){function t(t){for(var o,s,c=t[0],i=t[1],l=t[2],d=0,h=[];d<c.length;d++)s=c[d],a[s]&&h.push(a[s][0]),a[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1505:function(e,t,n){},"18ea":function(e,t,n){},"3e17":function(e,t,n){"use strict";var o=n("18ea"),a=n.n(o);a.a},"505d":function(e,t,n){"use strict";var o=n("60e4"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"phone-book"}},[n("main-menu"),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{shrink:""}},[n("router-view")],1)],1)],1)],1),n("phone-book-footer")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{app:"",temporary:"",fixed:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},e._l(e.menuItems,function(t,o){return n("v-list-tile",{key:"menuitem${i}",attrs:{to:t.route}},[n("v-list-tile-action",[n("v-icon",{domProps:{innerHTML:e._s(t.icon)}})],1),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:e._s(t.title)}})],1)],1)}),1)],1),n("v-toolbar",{attrs:{app:"",color:"indigo",dark:"",fixed:""}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("Phone Book")])],1)],1)},c=[],i={data:function(){return{drawer:!0}},props:{source:String},computed:{menuItems:function(){return[{title:"Home",icon:"home",route:"/home"},{title:"Phone Book",icon:"library_books",route:"/phonebook"},{title:"About",icon:"info",route:"/about"}]}}},l=i,u=n("2877"),d=Object(u["a"])(l,s,c,!1,null,null,null),h=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-footer",{attrs:{color:"indigo",app:""}},[n("v-flex",{attrs:{"text-xs-center":"","white--text":""}},[e._v("\n            Â© 2019 - Vuetify\n        ")])],1)],1)},m=[],v={name:"AppFooter"},p=v,b=Object(u["a"])(p,f,m,!1,null,null,null),C=b.exports,g={components:{MainMenu:h,PhoneBookFooter:C}},x=g,_=Object(u["a"])(x,a,r,!1,null,null,null),k=_.exports,y=n("8c4f"),w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{staticClass:"home mt-5"},[o("div",[e._v(e._s("Welcome to Phone Book App"))]),o("img",{attrs:{alt:"Vue logo",src:n("9966")}})])},j=[],P={},O=Object(u["a"])(P,w,j,!1,null,null,null),S=O.exports,N=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("This is a phone book app")])])}],F={},A=Object(u["a"])(F,N,$,!1,null,null,null),M=A.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"phone-book"}},[n("p",{staticClass:"h1 title align-middle font-weight-bold"},[e._v("Phone Book")]),n("div",{staticClass:"row"},[n("div",{staticClass:"header-interface"},[n("search-form",{attrs:{isContactFound:e.isContactFound},on:{search:e.search,reset:e.reset}}),n("v-btn",{staticClass:"delete-all-button red lighten-3",on:{click:e.deleteAll}},[e._v("\n                Delete all checked contacts\n            ")])],1)]),n("div",{staticClass:"row"},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("Contacts")])],1),n("v-flex",{staticClass:"table-flex"},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.contacts,"select-all":""},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[n("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"props.selected"}})],1),n("td",{staticClass:"justify-center"},[e._v(e._s(t.index+1))]),n("td",{staticClass:"justify-center",domProps:{textContent:e._s(t.item.surname)}},[e._v(e._s(t.item.surname))]),n("td",{staticClass:"justify-center"},[e._v(e._s(t.item.name))]),n("td",{staticClass:"justify-center"},[e._v(e._s(t.item.phoneNumber))]),n("td",[n("v-icon",{staticClass:"justify-center red lighten-3",on:{click:function(n){return e.deleteContact(t.item)}}},[e._v("\n                            delete\n                        ")])],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),n("contact-form")],1)])},R=[],E=n("1157"),T=n.n(E),B=function(e,t){return T.a.post({url:e,data:JSON.stringify(t),contentType:"application/json"})},V={deleteContact:function(e){return B("/deleteContact",{id:e})},deleteAll:function(e){return B("/deleteAll",{id:e})},addContact:function(e){return B("/addContact",e)},getContacts:function(e){return T.a.get({url:"/getContacts",dataType:"json",data:{search:e}})}},q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-xl-4 col-md-4 mt-4",attrs:{id:"add-contact-form"}},[n("div",{staticClass:"input-form-wrapper"},[n("v-form",{ref:"form",staticClass:"add-form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",[n("h4",[e._v("Add contact to phone book")]),n("v-text-field",{attrs:{id:"surname",label:"Surname",rules:e.surnameRules,counter:25,maxlength:"25",required:"",outline:""},model:{value:e.surname,callback:function(t){e.surname=t},expression:"surname"}}),n("v-text-field",{attrs:{label:"Name",rules:e.nameRules,counter:20,maxlength:"20",required:"",outline:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{label:"Phone Number",rules:e.phoneRules,counter:20,maxlength:"20",required:"",outline:""},on:{change:function(t){e.isValidPhoneNumber=!0}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),n("v-btn",{attrs:{"align-center":""},on:{click:e.addContact}},[e._v("Add to phone book")])],1)])],1)])},J=[],D=(n("7f7f"),{data:function(){var e=this;return{name:"",surname:"",phoneNumber:"",isValidPhoneNumber:!0,invalidMessage:"",valid:!0,nameRules:[function(e){return!!e||"Name is not defined"}],surnameRules:[function(e){return!!e&&!!e.trim().length||"Surname is not defined"}],phoneRules:[function(e){return!!e&&!!e.trim().length||"Phone Number is not defined"},function(t){return!0===e.isValidPhoneNumber||e.invalidMessage}]}},methods:{validateForm:function(){return this.$refs.form.validate()},addContact:function(){var e=this;if(this.validateForm()){var t={name:this.name,surname:this.surname,phoneNumber:this.phoneNumber};V.addContact(t).done(function(t){var n=t.message;!1===t.success?(e.isValidPhoneNumber=!1,e.invalidMessage=n,e.validateForm()||(e.snackbar=!0)):(e.name="",e.surname="",e.phoneNumber="",e.$parent.loadContacts(),e.isValidPhoneNumber=!0)})}else this.snackbar=!0}}}),H=D,z=(n("3e17"),Object(u["a"])(H,q,J,!1,null,null,null)),L=z.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"search-field navbar navbar-light bg-light interface-col text-center d-inline-block"},[n("div",{staticClass:"form-inline search"},[n("v-flex",[n("v-text-field",{attrs:{type:"search","aria-label":"Search",maxlength:"25",placeholder:"Search contact",outline:"",clearable:"",rules:e.searchRules},model:{value:e.searchField,callback:function(t){e.searchField=t},expression:"searchField"}})],1),n("v-btn",{staticClass:"search-button",attrs:{color:"info"},on:{click:function(t){return e.$emit("search",e.searchField)}}},[e._v("Search\n            "),n("v-icon",{attrs:{right:""}},[e._v("search")])],1),n("v-btn",{staticClass:"reset-button yellow lighten-3",on:{click:function(t){return e.$emit("reset")}}},[e._v("Reset\n            "),n("v-icon",{attrs:{right:""}},[e._v("backspace")])],1)],1)])},G=[],K={props:{isContactFound:Boolean},data:function(){var e=this;return{searchField:"",searchRules:[function(t){return!0===e.isContactFound||"Contact not found..."}]}}},Q=K,U=(n("a011"),Object(u["a"])(Q,W,G,!1,null,null,null)),X=U.exports,Y=(n("f9e3"),n("f507"),n("17fb")),Z=n.n(Y),ee=(n("bf40"),{components:{contactForm:L,searchForm:X},data:function(){return{contacts:[],checked:!1,checkedContactsId:[],allChecked:!1,showModal:!1,selectedContact:null,isContactFound:!0,dialog:!1,selected:[],headers:[{text:"#",value:"number"},{text:"Surname",value:"surname"},{text:"Name",value:"name"},{text:"Phone number",value:"phoneNumber"},{text:"Actions",value:"action",sortable:!1}]}},watch:{dialog:function(e){e||this.close()}},created:function(){this.loadContacts()},methods:{close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},deleteContact:function(e){var t=this,n=this.contacts.indexOf(e);confirm("Are you sure you want to delete this contact?")&&this.contacts.splice(n,1),-1===this.contacts.indexOf(e)&&V.deleteContact(e.id).done(function(){t.loadContacts()}),this.showModal=!1,this.selectedContact=null},loadContacts:function(){var e=this;V.getContacts(this.$store.state.usedSearchTerm).done(function(t){e.contacts=t.contacts,e.isContactFound=t.success;var n=e.contacts.map(function(e){return e.id});e.checkedContactsId=Z.a.intersection(n,e.checkedContactsId)})},confirmDelete:function(e){(this.checkedContactsId.length||"deleteAll"!==e)&&(this.showModal=!0),"deleteAll"!==e&&(this.selectedContact=e)},deleteAll:function(){var e=this;if(confirm("Are you sure you want to delete selected contacts?"))for(var t=0;t<this.selected.length;t++){var n=this.contacts.indexOf(this.selected[t]),o=this.selected[t].id;this.checkedContactsId.push(o),this.contacts.splice(n,1)}V.deleteAll(this.checkedContactsId).done(function(){e.loadContacts()})},search:function(e){this.$store.commit("changeSearch",e),this.loadContacts()},reset:function(){this.$store.commit("changeSearch",""),this.checkedContactsId=[],this.allChecked=!1,this.loadContacts()}}}),te=ee,ne=(n("505d"),Object(u["a"])(te,I,R,!1,null,null,null)),oe=ne.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[e._v("ERROR 404. Page not found.")])},re=[],se={name:"Page404"},ce=se,ie=(n("b981"),Object(u["a"])(ce,ae,re,!1,null,"612d44a4",null)),le=ie.exports,ue=n("ce5b"),de=n.n(ue);o["default"].use(de.a),o["default"].use(y["a"]);var he=new y["a"]({mode:"history",base:"/",routes:[{path:"/",name:"mainMenu",component:h},{path:"/home",name:"home",component:S},{path:"/about",name:"about",component:M},{path:"/phoneBook",name:"phoneBook",component:oe},{path:"*",component:le}]}),fe=n("2f62");o["default"].use(fe["a"]);var me=new fe["a"].Store({state:{usedSearchTerm:""},computed:{getContacts:function(e){return e.contacts}},mutations:{changeSearch:function(e,t){e.usedSearchTerm=t}},actions:{}});o["default"].use(de.a),o["default"].config.productionTip=!1,new o["default"]({router:he,store:me,vuetify:de.a,render:function(e){return e(k)}}).$mount("#phone-book")},"60e4":function(e,t,n){},9966:function(e,t,n){e.exports=n.p+"img/phonebook-logo.png"},a011:function(e,t,n){"use strict";var o=n("d18d"),a=n.n(o);a.a},b981:function(e,t,n){"use strict";var o=n("1505"),a=n.n(o);a.a},d18d:function(e,t,n){}});
//# sourceMappingURL=app.js.map